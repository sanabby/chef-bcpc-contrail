#!/bin/sh
################################################
#
#              Generated by Chef
#
################################################

<% if @servers.include?(node) -%>
echo
echo "################################"
echo "# HEAD NODE SERVICES"
for i in keystone \
         glance-api \
         glance-registry \
         cinder-api \
         cinder-scheduler \
         cinder-volume \
         neutron-server \
         nova-cert \
         nova-conductor \
         nova-consoleauth \
         nova-scheduler \
         heat-api \
         heat-api-cfn \
         heat-engine \
         ceilometer-api \
         ceilometer-agent-central \
         ceilometer-collector
do
    service $i restart
done
<% end -%>

echo
echo "################################"
echo "# WORK NODE SERVICES"
for i in nova-api \
         nova-compute \
         nova-novncproxy \
         ceilometer-agent-compute
do
    service $i restart
done
